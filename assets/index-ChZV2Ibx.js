import{r as x,g as C}from"./phaser-CFjeuDV9.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const l of n.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function t(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerPolicy&&(n.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?n.credentials="include":s.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(s){if(s.ep)return;s.ep=!0;const n=t(s);fetch(s.href,n)}})();var v=x();const p=C(v);var u=(h=>(h.TitleScene="TitleScene",h.ShapeRepairScene="ShapeRepairScene",h.BubblePopScene="BubblePopScene",h))(u||{});function b(h,e){return h=Math.ceil(h),e=Math.floor(e),Math.floor(Math.random()*(e-h+1)+h)}function y(h){return h.splice(Math.floor(Math.random()*h.length),1)[0]}const E=[15079755,3978315,16769305,4416472,16089649,9510580,4379892,15741670,12578629,16432852,4626832,14466815,10117924,16775880,8388608,11206595,8421376,16767153,117,11119017,16777215,0];function O(){let h=[];return()=>(h.length===0&&(h=[...E]),y(h))}class k extends p.Scene{constructor(){super(u.BubblePopScene)}STORAGE_KEYS={BUBBLE_COUNT_INDEX:"bubblePopScene_bubbleCountIndex",DRAG_TO_KILL_ENABLED:"bubblePopScene_dragToKillEnabled"};bubbleSize=200;TOTAL_BUBBLES=50;BUBBLE_COUNT_OPTIONS=[20,50,200,-1];bubbleCountIndex=1;REFILL_DELAY=0;dragToKillEnabled=!1;isResetting=!1;preload(){this.load.image("bubble","assets/images/bubble.png"),this.load.image("spark","assets/images/particle.png"),this.load.audio("pop","assets/audio/pop.mp3").once("filecomplete-audio-pop",e=>{console.log("pop sound loaded"),this.popSound=this.sound.add(e)}),this.load.audio("victory",["assets/audio/sparkle.mp3"]).once("filecomplete-audio-victory",()=>{console.log("victory sound loaded"),this.victorySound=this.sound.add("victory")})}create(){console.log("create bubble scene"),this.loadSettings(),this.cleanupBubbles(),this.addBackButton(),this.addProgressCounter(),this.computeSizing(),this.createBubbleGrid(),this.scale.on("resize",this.handleResize,this),this.setupDragToKill()}loadSettings(){try{const e=localStorage.getItem(this.STORAGE_KEYS.BUBBLE_COUNT_INDEX);if(e!==null){const i=parseInt(e,10);i>=0&&i<this.BUBBLE_COUNT_OPTIONS.length&&(this.bubbleCountIndex=i,this.TOTAL_BUBBLES=this.BUBBLE_COUNT_OPTIONS[this.bubbleCountIndex])}const t=localStorage.getItem(this.STORAGE_KEYS.DRAG_TO_KILL_ENABLED);t!==null&&(this.dragToKillEnabled=t==="true")}catch(e){console.warn("Failed to load settings from localStorage:",e)}}saveSettings(){try{localStorage.setItem(this.STORAGE_KEYS.BUBBLE_COUNT_INDEX,this.bubbleCountIndex.toString()),localStorage.setItem(this.STORAGE_KEYS.DRAG_TO_KILL_ENABLED,this.dragToKillEnabled.toString())}catch(e){console.warn("Failed to save settings to localStorage:",e)}}createBubbleGrid(){this.createBubbleBucket(),this.fillBubbleGrid()}createBubbleBucket(){let e=this.TOTAL_BUBBLES;if(this.TOTAL_BUBBLES===-1){const t=Math.round(this.gameWidth/this.bubbleSize),i=Math.round(this.gameHeight/this.bubbleSize);e=t*i*2}for(let t=0;t<e;t++){const i=this.createBubble(0,0);i.setVisible(!1),i.setAlpha(1),i.x=-1e3,i.y=-1e3,this.bubbleBucket.push(i)}}fillBubbleGrid(){const e=Math.round(this.gameWidth/this.bubbleSize),t=Math.round(this.gameHeight/this.bubbleSize),i=e*t,s=[],n=[];this.bubbles.forEach(o=>{const a=Math.round((o.x-this.bubbleSize/2)/this.bubbleSize),c=Math.round((o.y-this.bubbleSize/2)/this.bubbleSize);a>=0&&a<e&&c>=0&&c<t?s.push(o):n.push(o)}),n.forEach(o=>{o.setVisible(!1),o.setAlpha(1),o.x=-1e3,o.y=-1e3,this.bubbleBucket.push(o),this.bubbles.delete(o)});const l=new Set;s.forEach(o=>{const a=Math.round((o.x-this.bubbleSize/2)/this.bubbleSize),c=Math.round((o.y-this.bubbleSize/2)/this.bubbleSize);l.add(`${c},${a}`)});const r=i-s.length;let d=Math.min(r,this.bubbleBucket.length);if(this.TOTAL_BUBBLES===-1&&this.bubbleBucket.length<r){const o=r-this.bubbleBucket.length;for(let a=0;a<o;a++){const c=this.createBubble(0,0);c.setVisible(!1),c.setAlpha(1),c.x=-1e3,c.y=-1e3,this.bubbleBucket.push(c)}d=r}let f=0;for(let o=0;o<t&&f<d;o++)for(let a=0;a<e&&f<d;a++){const c=`${o},${a}`;if(!l.has(c)){const g=this.bubbleBucket.shift();g.x=a*this.bubbleSize+this.bubbleSize/2,g.y=o*this.bubbleSize+this.bubbleSize/2,g.setVisible(!0),g.setAlpha(1),this.resetBubbleInteractivity(g),this.bubbles.add(g),f++}}}handleResize(){this.repositionProgressCounter(),this.fillBubbleGrid()}fillSpecificSpot(e,t){if(this.isResetting)return;const i=`${e},${t}`;this.pendingRefills.has(i)||(this.bubbleBucket.length>0||this.TOTAL_BUBBLES===-1)&&(this.pendingRefills.add(i),this.time.delayedCall(this.REFILL_DELAY,()=>{if(this.isResetting){this.pendingRefills.delete(i);return}this.pendingRefills.delete(i);let s;if(this.bubbleBucket.length>0)s=this.bubbleBucket.shift();else if(this.TOTAL_BUBBLES===-1)s=this.createBubble(e,t);else return;this.isPositionEmpty(e,t)&&(this.tweens.killTweensOf(s),s.floatTween&&(s.floatTween.destroy(),s.floatTween=null),s.x=e,s.y=t,s.setVisible(!0),this.bubbles.add(s),this.resetBubbleInteractivity(s),s.setAlpha(0),this.tweens.add({targets:s,alpha:1,ease:"Cubic.easeInOut",duration:1500,onComplete:()=>{}}))}))}isPositionEmpty(e,t){for(const s of this.bubbles)if(Math.abs(s.x-e)<10&&Math.abs(s.y-t)<10)return!1;return!0}finalize(){this.victorySound?.play(),this.addPlayAgainButton()}cleanupBubbles(){this.pendingRefills.clear(),this.time.removeAllEvents(),this.settingsPanelVisible&&(this.settingsPanel?.destroy(),this.settingsBackground?.destroy(),this.settingsPanelVisible=!1),this.bubbles.forEach(e=>{this.tweens.killTweensOf(e),e.floatTween&&e.floatTween.destroy(),e.removeAllListeners(),e.destroy()}),this.bubbles.clear(),this.bubbleBucket.forEach(e=>{this.tweens.killTweensOf(e),e.floatTween&&e.floatTween.destroy(),e.removeAllListeners(),e.destroy()}),this.bubbleBucket=[],this.bubblesPopped=0,this.pendingRefills.clear(),this.particleManagers.forEach(e=>{e.destroy()}),this.particleManagers.clear()}backButton;settingsButton;progressText;progressHint;settingsPanel;settingsBackground;settingsPanelVisible=!1;popSound;victorySound;colorFactory=O();bubbleWidth=0;bubbleHeight=0;get gameWidth(){return this.scale.gameSize.width}get gameHeight(){return this.scale.gameSize.height}bubbles=new Set;particleManagers=new Set;bubbleBucket=[];bubblesPopped=0;pendingRefills=new Set;popBubble(e){if(!this.bubbles.has(e)){console.log("Attempted to pop bubble not in active set");return}this.tweens.killTweensOf(e);const t=e.x,i=e.y,s=50;var n=this.add.particles(e.x,e.y,"spark",{speed:2e3,quantity:5,gravityY:13e3,scale:{min:.05,max:.1},x:{min:-s,max:s},y:{min:-s,max:s}});this.particleManagers.add(n),this.popSound?.play(),this.bubbles.delete(e),this.bubblesPopped++,this.updateProgressCounter(),this.tweens.add({targets:e,scaleX:0,scaleY:0,ease:"Sine.easeInOut",duration:100,onComplete:()=>{e.destroy(),n.stop(),this.time.delayedCall(2e3,()=>{this.particleManagers.delete(n),n.destroy()}),this.fillSpecificSpot(t,i),this.TOTAL_BUBBLES!==-1&&this.bubblesPopped>=this.TOTAL_BUBBLES&&this.finalize()}})}createBubble(e,t){const i=this.make.sprite({key:"bubble"});return i.displayWidth=this.bubbleSize,i.displayHeight=this.bubbleSize,i.setTint(this.colorFactory()),i.setInteractive({cursor:"pointer"}),i}computeSizing(){const e=this.createBubble(0,0);this.bubbleWidth=e.displayWidth,this.bubbleHeight=e.displayHeight,e.destroy()}addBackButton(){this.backButton=this.add.text(10,10,"←",{fontSize:"48px",color:"white"}).setOrigin(0).setPadding(20,0,20,10).setStyle({backgroundColor:"#111"}).setInteractive({useHandCursor:!0}).on("pointerdown",(e,t,i,s)=>{s.stopPropagation(),this.scene.restart(),this.scene.switch(u.TitleScene)}).setDepth(10).on("pointerover",()=>this.backButton.setStyle({fill:"#f39c12"})).on("pointerout",()=>this.backButton.setStyle({fill:"#FFF"})),this.settingsButton=this.add.text(10,80,"⚙",{fontSize:"36px",color:"white"}).setOrigin(0).setPadding(15,5,15,5).setStyle({backgroundColor:"#333"}).setInteractive({useHandCursor:!0}).on("pointerdown",(e,t,i,s)=>{s.stopPropagation(),this.toggleSettingsPanel()}).setDepth(10).on("pointerover",()=>this.settingsButton.setStyle({fill:"#f39c12",backgroundColor:"#555"})).on("pointerout",()=>this.settingsButton.setStyle({fill:"#FFF",backgroundColor:"#333"}))}addPlayAgainButton(){var e=this.add.text(this.cameras.main.centerX,this.cameras.main.centerY,"Play Again",{fontSize:"48px",color:"white"}).setOrigin(.5).setPadding(50).setResolution(10).setStyle({backgroundColor:"green"}).setInteractive({useHandCursor:!0}).on("pointerdown",(t,i,s,n)=>{n.stopPropagation(),this.cleanupBubbles(),this.scene.restart()}).setDepth(10).on("pointerover",()=>e.setStyle({fill:"#f39c12"})).on("pointerout",()=>e.setStyle({fill:"#FFF"}))}addProgressCounter(){const e=this.TOTAL_BUBBLES===-1?"Bubbles: ∞":`Bubbles: ${this.TOTAL_BUBBLES}`;this.progressText=this.add.text(this.scale.gameSize.width-10,10,e,{fontSize:"32px",color:"white"}).setOrigin(1,0).setPadding(20,10,20,10).setStyle({backgroundColor:"#333"}).setDepth(10)}cycleBubbleCount(e){this.bubbleCountIndex=e,this.TOTAL_BUBBLES=this.BUBBLE_COUNT_OPTIONS[this.bubbleCountIndex],this.saveSettings();const t=this.TOTAL_BUBBLES===-1?"Bubbles: ∞":`Bubbles: ${this.TOTAL_BUBBLES}`;this.progressText.setText(t),this.resetGame()}resetGame(){this.isResetting=!0,this.cleanupBubbles(),this.bubblesPopped=0,this.bubbleBucket=[],this.time.delayedCall(50,()=>{this.createBubbleBucket(),this.fillBubbleGrid(),this.updateProgressCounter(),this.isResetting=!1})}updateProgressCounter(){if(this.TOTAL_BUBBLES===-1)this.progressText.setText(`Bubbles: ${this.bubblesPopped} popped`);else{const e=this.TOTAL_BUBBLES-this.bubblesPopped;this.progressText.setText(`Bubbles: ${e}`)}}resetBubbleInteractivity(e){const t=e.x,i=e.y;this.tweens.killTweensOf(e),e.floatTween&&(e.floatTween.destroy(),e.floatTween=null),e.x=t,e.y=i,e.removeAllListeners(),e.setInteractive({cursor:"pointer"}),this.dragToKillEnabled||e.on("pointerdown",()=>{this.settingsPanelVisible||this.bubbles.has(e)&&this.popBubble(e)});const s=this.tweens.add({targets:e,props:{x:{value:`+=${b(1,10)}`,duration:b(1e3,1500),delay:b(1,1e3),ease:"Sine.easeInOut"},y:{value:`+=${b(1,10)}`,duration:b(2e3,2500),delay:b(1,1e3),ease:"Sine.easeInOut"},scaleX:{value:`+=.0${b(1,3)}`,duration:b(2e3,3e3),delay:b(1,1e3),ease:"Sine.easeInOut"},scaleY:{value:`+=.0${b(1,3)}`,duration:b(1e3,2e3),delay:b(1,1e3),ease:"Sine.easeInOut"}},repeat:-1,yoyo:!0});e.floatTween=s}repositionProgressCounter(){this.progressText&&this.progressText.setPosition(this.scale.gameSize.width-10,10),this.progressHint&&this.progressHint.setPosition(this.scale.gameSize.width-10,60)}setupDragToKill(){let e=!1,t=null;this.input.on("pointerdown",i=>{if(this.dragToKillEnabled&&!this.settingsPanelVisible){e=!0,t=null;const s=this.getBubbleAtPosition(i.x,i.y);s&&(this.popBubble(s),t=s)}}),this.input.on("pointerup",()=>{e=!1,t=null}),this.input.on("pointermove",i=>{if(this.dragToKillEnabled&&e&&!this.settingsPanelVisible){const s=this.getBubbleAtPosition(i.x,i.y);s&&s!==t&&(this.popBubble(s),t=s)}})}getBubbleAtPosition(e,t){for(const i of this.bubbles)if(i.getBounds().contains(e,t))return i;return null}toggleSettingsPanel(){this.settingsPanelVisible?this.hideSettingsPanel():this.showSettingsPanel()}showSettingsPanel(){if(this.settingsPanelVisible)return;this.settingsBackground=this.add.rectangle(this.cameras.main.centerX,this.cameras.main.centerY,this.gameWidth,this.gameHeight,0,.7).setDepth(20).setInteractive(),this.settingsPanel=this.add.container(this.cameras.main.centerX,this.cameras.main.centerY),this.settingsPanel.setDepth(21);const e=this.add.rectangle(0,0,450,450,3355443);e.setStrokeStyle(2,5592405);const t=this.add.text(0,-190,"Settings",{fontSize:"32px",color:"white",fontStyle:"bold"}).setOrigin(.5),i=this.add.text(195,-190,"×",{fontSize:"36px",color:"white"}).setOrigin(.5).setPadding(10,5,10,5).setStyle({backgroundColor:"#666"}).setInteractive({useHandCursor:!0}).on("pointerdown",()=>this.hideSettingsPanel()).on("pointerover",()=>i.setStyle({fill:"#f39c12",backgroundColor:"#888"})).on("pointerout",()=>i.setStyle({fill:"#FFF",backgroundColor:"#666"})),s=this.add.text(0,-130,"Bubble Count:",{fontSize:"20px",color:"white",fontStyle:"bold"}).setOrigin(.5),n=[],l=["20","50","200","∞"];l.forEach((o,a)=>{const c=-90+a*25,g=this.bubbleCountIndex===a,S=this.add.circle(-100,c,8,g?65280:6710886);S.setStrokeStyle(2,16777215);const P=this.add.text(-80,c,o,{fontSize:"18px",color:g?"#00ff00":"white"}).setOrigin(0,.5);n.push({radio:S,label:P})});const r=this.add.text(-150,50,"Drag Mode:",{fontSize:"20px",color:"white"}).setOrigin(0,.5),d=this.add.text(50,50,this.dragToKillEnabled?"ON":"OFF",{fontSize:"20px",color:"white"}).setOrigin(.5).setPadding(20,8,20,8).setStyle({backgroundColor:this.dragToKillEnabled?"#006600":"#666"}).setInteractive({useHandCursor:!0}).on("pointerdown",(o,a,c,g)=>{g.stopPropagation(),this.dragToKillEnabled=!this.dragToKillEnabled,d.setText(this.dragToKillEnabled?"ON":"OFF"),d.setStyle({backgroundColor:this.dragToKillEnabled?"#006600":"#666"}),this.saveSettings(),this.time.delayedCall(10,()=>{this.bubbles.forEach(S=>{this.resetBubbleInteractivity(S)})})}).on("pointerover",()=>d.setStyle({fill:"#f39c12"})).on("pointerout",()=>d.setStyle({fill:"#FFF"})),f=this.add.text(0,90,`When enabled, drag to pop bubbles
instead of clicking`,{fontSize:"14px",color:"#ccc",align:"center"}).setOrigin(.5);this.settingsPanel.add([e,t,i,s,r,d,f]),n.forEach(o=>{this.settingsPanel.add([o.radio,o.label])}),l.forEach((o,a)=>{const c=-90+a*25;this.add.rectangle(this.cameras.main.centerX-50,this.cameras.main.centerY+c,200,25,0,0).setInteractive({useHandCursor:!0}).on("pointerdown",(g,S,P,T)=>{T.stopPropagation(),n.forEach((B,w)=>{w===a?(B.radio.setFillStyle(65280),B.label.setColor("#00ff00")):(B.radio.setFillStyle(6710886),B.label.setColor("white"))}),this.cycleBubbleCount(a),this.time.delayedCall(300,()=>this.hideSettingsPanel())}).on("pointerover",()=>{this.bubbleCountIndex!==a&&n[a].label.setColor("#f39c12")}).on("pointerout",()=>{this.bubbleCountIndex!==a&&n[a].label.setColor("white")}).setDepth(22)}),this.settingsPanel.setAlpha(0),this.settingsPanel.setScale(.8),this.tweens.add({targets:this.settingsPanel,alpha:1,scaleX:1,scaleY:1,duration:200,ease:"Back.easeOut"}),this.settingsPanelVisible=!0,this.settingsBackground.on("pointerdown",()=>this.hideSettingsPanel())}hideSettingsPanel(){this.settingsPanelVisible&&this.tweens.add({targets:this.settingsPanel,alpha:0,scaleX:.8,scaleY:.8,duration:150,ease:"Back.easeIn",onComplete:()=>{this.settingsPanel?.destroy(),this.settingsBackground?.destroy(),this.settingsPanelVisible=!1}})}}class L extends p.Scene{constructor(){super(u.ShapeRepairScene)}quadrantColumnCount=2;quadrantRowCount=3;resetPositionSpeed=4500;preload(){console.log("preload shape scene"),this.load.audio("whoosh",["assets/audio/whoosh.mp3"]).once("filecomplete-audio-whoosh",()=>{console.log("whoosh sound loaded"),this.whooshSound=this.sound.add("whoosh")}),this.load.audio("victory",["assets/audio/sparkle.mp3"]).once("filecomplete-audio-victory",()=>{console.log("victory sound loaded"),this.victorySound=this.sound.add("victory")})}create(){console.log("create shape scene"),this.reset(),this.addBackButton(),this.calculateQuadrants(this.quadrantColumnCount,this.quadrantRowCount),this.drawQuadrants();const e=[...this.quadrants],t=[...this.distinctColors];for(;e.length>0;){const s=y(e),n=y(e);s&&n&&(this.createShapePair(t.shift(),s,n),this.pairsRemaining++)}this.input.on("drag",function(s,n,l,r){n.x=l,n.y=r});const i=new Map;this.input.on("dragstart",(s,n,l,r)=>{n.depth=1,i.set(n,{x:n.x,y:n.y})}),this.input.on("dragend",(s,n,l,r)=>{n.depth=0;const d=n.getBounds(),o=this.shapePairMap.get(n)?.getBounds();if(p.Geom.Intersects.RectangleToRectangle(d,o))this.finalizePair(n);else{const a=i.get(n);a&&(this.movements.push({sprite:n,destination:a}),this.physics.moveTo(n,a.x,a.y,this.resetPositionSpeed))}i.delete(n)})}distinctColors=[15079755,3978315,16769305,4416472,16089649,9510580,4379892,15741670,12578629,16432852,4626832,14466815,10117924,16775880,8388608,11206595,8421376,16767153,117,11119017,16777215,0];quadrants=[];pairsRemaining=0;shapePairMap=new Map;backButton;whooshSound;victorySound;addBackButton(){this.backButton=this.add.text(10,10,"←",{fontSize:"48px",color:"white"}).setOrigin(0).setPadding(20,0,20,10).setStyle({backgroundColor:"#111"}).setInteractive({useHandCursor:!0}).on("pointerdown",()=>{this.create(),this.scene.restart(),this.scene.switch(u.TitleScene)}).setDepth(10).on("pointerover",()=>this.backButton.setStyle({fill:"#f39c12"})).on("pointerout",()=>this.backButton.setStyle({fill:"#FFF"}))}addPlayAgainButton(){this.add.text(this.cameras.main.centerX,this.cameras.main.centerY,"Play Again",{fontSize:"48px",color:"white"}).setOrigin(.5).setPadding(50).setResolution(10).setStyle({backgroundColor:"green"}).setInteractive({useHandCursor:!0}).on("pointerdown",()=>{this.scene.restart()}).setDepth(10).on("pointerover",()=>this.backButton.setStyle({fill:"#f39c12"})).on("pointerout",()=>this.backButton.setStyle({fill:"#FFF"}))}finishRound(){this.victorySound?.play(),this.addPlayAgainButton()}reset(){this.quadrants=[],this.pairsRemaining=0;for(const[e]of this.shapePairMap)e.destroy();this.shapePairMap=new Map,this.input.removeAllListeners();for(const e of this.children.list)e.destroy();this.backButton?.destroy()}finalizePair(e){const t=this.shapePairMap.get(e);e.disableInteractive(),t?.disableInteractive(),e.x=t.x,e.y=t.y,this.pairsRemaining--;const i=this.tweens.createTimeline();this.whooshSound?.play(),i.add({targets:[e,t],duration:50,yoyo:!0,scaleX:1.2,scaleY:1.2}).add({targets:[e,t],duration:50,scaleX:.001,scaleY:.001}).once("complete",()=>{e.destroy(),t.destroy(),this.pairsRemaining<=0&&this.finishRound()}).play()}movements=[];update(e,t){this.processMovements()}processMovements(){for(let e=this.movements.length-1;e>=0;e--){const t=this.movements[e],i=this.resetPositionSpeed*1.5/this.game.loop.targetFps,s=p.Math.Distance.BetweenPoints(t.sprite,t.destination);t.sprite.body.speed>0&&s<i&&(t.sprite.body.reset(t.destination.x,t.destination.y),this.movements.splice(e,1))}}calculateQuadrants(e,t){let i=this.scale.gameSize.width;const s=i/e,n=this.scale.gameSize.height,l=n/t;for(let r=0;r<n;r+=l)for(let d=0;d<i;d+=s){const f={x:d,y:r,centerX:d+s/2,centerY:r+l/2,width:s,height:l};this.quadrants.push(f)}}drawQuadrants(){for(const e of this.quadrants){const t=this.add.graphics();t.strokeRect(e.x,e.y,e.width,e.height),t.stroke()}}makeDraggable(e){e.setInteractive(this.input.makePixelPerfect()),this.input.setDraggable(e)}createShapePair(e,t,i){const s=b(30,120),n=Math.min(t.width,t.height)/2.1,l=this.createCirclePart(e,n,0,s);this.makeDraggable(l),l.x=t.centerX,l.y=t.centerY;const r=this.createCirclePart(e,n,s,360);this.makeDraggable(r),r.x=i.centerX,r.y=i.centerY,this.shapePairMap.set(l,r),this.shapePairMap.set(r,l)}createCirclePart(e,t,i,s){var n=this.make.graphics({x:0,y:0,add:!1});n.fillStyle(e,1),n.lineStyle(3,0,1),n.beginPath(),n.arc(t,t,t,p.Math.DegToRad(s),p.Math.DegToRad(i),!0),n.lineTo(t,t),n.fillPath(),n.strokePath(),n.arc(t,t,t,p.Math.DegToRad(s),p.Math.DegToRad(i),!0),n.strokePath();const l="texture"+this.textureIndex++;return n.generateTexture(l,t*2,t*2),n.destroy(),this.physics.add.sprite(t,t,l)}textureIndex=0}class I extends p.Scene{buildTimestamp;constructor(){super(u.TitleScene)}preload(){this.load.image("bubble-tile","assets/images/bubble-tile.png"),this.load.image("shape-tile","assets/images/shape-tile.png")}create(){const e=new URLSearchParams(window.location.search).get("game");e&&this.scene.switch(e),this.add.image(this.cameras.main.centerX-250,this.cameras.main.centerY,"bubble-tile").setDisplaySize(300,300).setInteractive().on("pointerdown",()=>{this.scene.switch(u.BubblePopScene)});const t=this.add.text(this.cameras.main.centerX-250,this.cameras.main.centerY,"Bubble Popper",{fontSize:"35px",color:"white"}).setOrigin(.5).setResolution(10).setPadding(5).setStyle({backgroundColor:"#111"}).setInteractive({useHandCursor:!0}).on("pointerdown",()=>{this.scene.switch(u.BubblePopScene)}).on("pointerover",()=>t.setStyle({fill:"#f39c12"})).on("pointerout",()=>t.setStyle({fill:"#FFF"}));this.add.image(this.cameras.main.centerX+250,this.cameras.main.centerY,"shape-tile").setDisplaySize(300,300).setInteractive().on("pointerdown",()=>{this.scene.switch(u.ShapeRepairScene)});const i=this.add.text(this.cameras.main.centerX+250,this.cameras.main.centerY,"Shapes",{fontSize:"35px",color:"white"}).setOrigin(.5).setResolution(10).setPadding(75,5,75,5).setStyle({backgroundColor:"#111"}).setInteractive({useHandCursor:!0}).on("pointerdown",()=>{this.scene.switch(u.ShapeRepairScene)}).on("pointerover",()=>i.setStyle({fill:"#f39c12"})).on("pointerout",()=>i.setStyle({fill:"#FFF"}));this.buildTimestamp=this.add.text(this.cameras.main.width-10,this.cameras.main.height-10,"Build: 2025-06-30 20:31",{fontSize:"12px",color:"#FFFFFF",fontFamily:"monospace"}).setOrigin(1,1).setDepth(100),this.scale.on("resize",this.handleResize,this)}handleResize(){this.buildTimestamp&&this.buildTimestamp.setPosition(this.cameras.main.width-10,this.cameras.main.height-10)}update(e,t){}}const m=new p.Game({type:p.AUTO,parent:"game",backgroundColor:"#33A5E7",scale:{width:800,height:600,mode:p.Scale.RESIZE,autoCenter:p.Scale.CENTER_BOTH},physics:{default:"arcade"}});m.scene.add(u.TitleScene,I);m.scene.add(u.ShapeRepairScene,L);m.scene.add(u.BubblePopScene,k);m.scene.start(u.TitleScene);
